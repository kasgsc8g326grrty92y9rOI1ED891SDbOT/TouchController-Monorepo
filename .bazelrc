common --enable_platform_specific_config

# Release builds
build:opt --copt -flto --copt -Os
build:opt --linkopt -flto
build:opt --strip=always
build:opt --compilation_mode=opt

# Debug
build:dbg --strip=never
build:dbg --compilation_mode=dbg

# Java Version
common --java_runtime_version=remotejdk_25
common --java_language_version=21
common --tool_java_runtime_version=remotejdk_25
common --tool_java_language_version=25

common:jre8 --java_runtime_version=remotejdk_8 --java_language_version=8
common:jre17 --java_runtime_version=remotejdk_17 --java_language_version=17
common:jre21 --java_runtime_version=remotejdk_21 --java_language_version=21
common:jre25 --java_runtime_version=remotejdk_25 --java_language_version=25

# JVM Options
common:jre25 --jvmopt=--sun-misc-unsafe-memory-access=allow

# Zig CC
build:linux --sandbox_add_mount_pair=/tmp
build:macos --sandbox_add_mount_pair=/var/tmp

# Protobuf
common --incompatible_enable_proto_toolchain_resolution
common --@protobuf//bazel/toolchains:prefer_prebuilt_protoc

# Android Rules
common --android_platforms=@//platforms:android_arm32,@//platforms:android_arm64,@//platforms:android_x86_32,@//platforms:android_x86_64

# C++17
common:linux --cxxopt=-std=c++17 --host_cxxopt=-std=c++17
common:macos --cxxopt=-std=c++17 --host_cxxopt=-std=c++17
common:windows --cxxopt=/std:c++17 --host_cxxopt=/std:c++17
